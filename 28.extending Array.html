<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>extend array</title>
</head>

<body>
    <script>
        function MyArray() {
            Array.apply(this, arguments)
        }
        const colors = new MyArray();
        colors[0] = 'red'
        console.log(colors.length) //undefined

        colors.length = 0;
        console.log(colors[0]) //red


        //拓展array
        class MyArray2 extends Array {
            constructor() {
                super()
            }
        }
        const colors2 = new MyArray2();
        colors2[0] = 'red'
        console.log(colors2.length) //1

        colors2.length = 0;
        console.log(colors2[0]) //undefined


        //自定义类
        class movieColletion extends Array {
            constructor(name, ...items) {
                super(...items)
                this.name = name

            }

            add(movie) {
                this.push(movie)
            }

            topRated(limit = 10) {
                return this.sort((a, b) => (a.score > b.score) ? -1 : 1).slice(0, limit)
            }
        }
        const movies = new movieColletion(
            'favorite movies', {
                name: 'The Croods',
                score: 8.7
            }, {
                name: 'The Shawshank Redemption',
                score: 9.6
            }, {
                name: 'Leon',
                score: 9.4
            }, {
                name: 'Days of Summer',
                score: 8.0
            }
        )

        movies.push({
            name: 'Pride & Prejudice',
            score: 8.4
        })
    </script>

</body>

</html>